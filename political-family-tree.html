<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정치인 인맥관계도 - newsbot.kr</title>
    <meta name="description" content="MacFamilyTree 스타일의 정치인 인맥관계 시각화">
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="family-tree.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>newsbot<span class="logo-accent">.kr</span></h1>
                    <span class="subtitle">정치인 인맥관계도</span>
                </div>
                <div class="family-tree-controls">
                    <div class="search-box">
                        <input type="text" id="politicianSearch" placeholder="정치인 검색..." class="search-input">
                        <button class="search-button" onclick="searchPolitician()">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="view-controls">
                        <button class="control-btn active" onclick="changeView('network')" id="networkView">네트워크</button>
                        <button class="control-btn" onclick="changeView('tree')" id="treeView">트리</button>
                        <button class="control-btn" onclick="changeView('timeline')" id="timelineView">타임라인</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- 메인 컨텐츠 -->
    <main class="main">
        <div class="container">
            <!-- 사이드바 -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>필터</h3>
                    <div class="filter-group">
                        <label>정당</label>
                        <select id="partyFilter" onchange="applyFilters()">
                            <option value="">전체</option>
                            <option value="people-power">국민의힘</option>
                            <option value="democratic">더불어민주당</option>
                            <option value="people-party">국민의당</option>
                            <option value="justice">정의당</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>위원회</label>
                        <select id="committeeFilter" onchange="applyFilters()">
                            <option value="">전체</option>
                            <option value="defense">국방위원회</option>
                            <option value="foreign">외교통일위원회</option>
                            <option value="budget">기획재정위원회</option>
                            <option value="education">교육위원회</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>관계 유형</label>
                        <select id="relationshipFilter" onchange="applyFilters()">
                            <option value="">전체</option>
                            <option value="party">정당 내</option>
                            <option value="committee">위원회</option>
                            <option value="region">지역</option>
                            <option value="academic">학연</option>
                            <option value="family">혈연</option>
                            <option value="personal">지연</option>
                        </select>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>통계</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-label">총 정치인</span>
                            <span class="stat-value" id="totalPoliticians">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">총 관계</span>
                            <span class="stat-value" id="totalRelationships">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">평균 연결도</span>
                            <span class="stat-value" id="avgConnections">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">최대 영향력</span>
                            <span class="stat-value" id="maxInfluence">0</span>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3>인사이트</h3>
                    <div class="insights-list" id="insightsList">
                        <!-- 인사이트가 여기에 동적으로 추가됩니다 -->
                    </div>
                </div>
            </aside>

            <!-- 메인 시각화 영역 -->
            <div class="visualization-container">
                <!-- 네트워크 뷰 -->
                <div id="networkView" class="view-container active">
                    <div class="view-header">
                        <h2>정치인 네트워크</h2>
                        <div class="view-controls">
                            <button class="control-btn" onclick="resetView()">초기화</button>
                            <button class="control-btn" onclick="exportView()">내보내기</button>
                        </div>
                    </div>
                    <div class="network-canvas" id="networkCanvas">
                        <svg id="networkSvg" width="100%" height="600"></svg>
                    </div>
                </div>

                <!-- 트리 뷰 -->
                <div id="treeView" class="view-container">
                    <div class="view-header">
                        <h2>정치인 관계 트리</h2>
                        <div class="view-controls">
                            <button class="control-btn" onclick="expandAll()">전체 펼치기</button>
                            <button class="control-btn" onclick="collapseAll()">전체 접기</button>
                        </div>
                    </div>
                    <div class="tree-canvas" id="treeCanvas">
                        <div class="tree-container" id="treeContainer">
                            <!-- 트리 구조가 여기에 동적으로 생성됩니다 -->
                        </div>
                    </div>
                </div>

                <!-- 타임라인 뷰 -->
                <div id="timelineView" class="view-container">
                    <div class="view-header">
                        <h2>관계 변화 타임라인</h2>
                        <div class="view-controls">
                            <button class="control-btn" onclick="playTimeline()">재생</button>
                            <button class="control-btn" onclick="pauseTimeline()">일시정지</button>
                        </div>
                    </div>
                    <div class="timeline-canvas" id="timelineCanvas">
                        <div class="timeline-container" id="timelineContainer">
                            <!-- 타임라인이 여기에 동적으로 생성됩니다 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 상세 정보 모달 -->
    <div class="modal" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">정치인 상세 정보</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- 상세 정보가 여기에 표시됩니다 -->
            </div>
        </div>
    </div>

    <!-- 스크립트 -->
    <script src="family-tree.js"></script>
    <script src="script.js"></script>
</body>
</html>
