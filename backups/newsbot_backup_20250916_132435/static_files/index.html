<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>newsbot.kr - 정치 뉴스 분석 플랫폼</title>
    <meta name="description" content="국회 발언과 뉴스 데이터를 연결하여 정치적 인사이트를 제공하는 혁신적인 플랫폼">
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>newsbot<span class="logo-accent">.kr</span></h1>
                </div>
                <div class="search-section">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="뉴스 검색..." class="search-input">
                        <button class="search-button" onclick="performSearch()">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- 정치인 선택 섹션 -->
                <div class="politician-selector">
                    <h3>주요 정치인 분석</h3>
                    <div class="politician-cards">
                        <div class="politician-card" onclick="selectPolitician('정청래')">
                            <div class="politician-avatar">정</div>
                            <div class="politician-info">
                                <h4>정청래</h4>
                                <p>서울 마포구을</p>
                                <span class="score">4.08점</span>
                            </div>
                        </div>
                        <div class="politician-card" onclick="selectPolitician('김주영')">
                            <div class="politician-avatar">김</div>
                            <div class="politician-info">
                                <h4>김주영</h4>
                                <p>경기 김포시갑</p>
                                <span class="score">6.92점</span>
                            </div>
                        </div>
                        <div class="politician-card" onclick="selectPolitician('신장식')">
                            <div class="politician-avatar">신</div>
                            <div class="politician-info">
                                <h4>신장식</h4>
                                <p>비례대표</p>
                                <span class="score">6.71점</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- 메인 컨텐츠 -->
    <main class="main">
        <div class="container">
            <!-- 메인 레이아웃 -->
            <div class="main-layout">
                <!-- 좌측: 정치인 데이터 영역 -->
                <div class="left-panel">
                    <!-- 정치인 프로필 위젯 -->
                    <div class="widget politician-widget">
                        <div class="widget-header">
                            <h2 class="widget-title">
                                <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                                국회의원 현황
                            </h2>
                            <span class="widget-subtitle">81명</span>
                        </div>
                        <div class="politician-list" id="politicianList">
                            <!-- 정치인 아이템들이 여기에 동적으로 추가됩니다 -->
                        </div>
                        <div class="widget-footer">
                            <button class="widget-button" onclick="showAllPoliticians()">전체 의원 보기</button>
                        </div>
                    </div>

                    <!-- 정치인 통계 위젯 -->
                    <div class="widget politician-stats-widget">
                        <div class="widget-header">
                            <h2 class="widget-title">
                                <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                                정당별 분포
                            </h2>
                        </div>
                        <div class="stats-content" id="politicianStats">
                            <!-- 정당별 통계가 여기에 표시됩니다 -->
                        </div>
                    </div>

                    <!-- 위원회별 분포 위젯 -->
                    <div class="widget committee-widget">
                        <div class="widget-header">
                            <h2 class="widget-title">
                                <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                                </svg>
                                위원회별 분포
                            </h2>
                        </div>
                        <div class="committee-content" id="committeeStats">
                            <!-- 위원회별 통계가 여기에 표시됩니다 -->
                        </div>
                    </div>
                </div>

                <!-- 우측: 뉴스 및 분석 영역 -->
                <div class="right-panel">
                    <!-- 실시간 뉴스 위젯 -->
                    <div class="widget news-widget">
                        <div class="widget-header">
                            <h2 class="widget-title">
                                <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
                                </svg>
                                실시간 뉴스
                            </h2>
                            <div class="widget-actions">
                                <button class="refresh-btn" onclick="refreshNews()" title="뉴스 새로고침">
                                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                    </svg>
                                </button>
                                <span class="widget-subtitle">30초마다 업데이트</span>
                            </div>
                        </div>
                        <div class="news-list" id="newsList">
                            <!-- 뉴스 아이템들이 여기에 동적으로 추가됩니다 -->
                        </div>
                        <div class="widget-footer">
                            <button class="widget-button" onclick="showAllNews()">모든 뉴스 보기</button>
                        </div>
                    </div>

                </div>
            </div>

            <!-- 하단: 기타 위젯들 -->
            <div class="bottom-widgets">

                <!-- 연결성 네트워크 위젯 -->
                <div class="widget network-widget">
                    <div class="widget-header">
                        <h2 class="widget-title">
                            <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                            </svg>
                            연결성 네트워크
                        </h2>
                        <span class="widget-subtitle">실시간</span>
                    </div>
                    <div class="network-container">
                        <div class="network-visualization" id="networkVisualization">
                            <!-- 네트워크 시각화가 여기에 표시됩니다 -->
                        </div>
                        <div class="network-stats">
                            <div class="stat-item">
                                <span class="stat-label">총 노드 수</span>
                                <span class="stat-value" id="totalNodes">6</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">총 연결 수</span>
                                <span class="stat-value" id="totalConnections">5</span>
                            </div>
                        </div>
                    </div>
                    <div class="widget-footer">
                        <button class="widget-button" onclick="window.location.href='political-family-tree.html'">MacFamilyTree 스타일 보기</button>
                    </div>
                </div>

                <!-- 트렌드 차트 위젯 (연결성 하단) -->
                <div class="widget trend-chart-widget">
                    <div class="widget-header">
                        <h2 class="widget-title">
                            <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                            </svg>
                            트렌드 차트
                        </h2>
                        <div class="period-selector">
                            <button class="period-btn active" onclick="changePeriod('week')">주간</button>
                            <button class="period-btn" onclick="changePeriod('month')">월간</button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="trendChart" width="400" height="200"></canvas>
                    </div>
                    <div class="chart-stats">
                        <div class="stat-item">
                            <span class="stat-label">평균 언급 수</span>
                            <span class="stat-value" id="avgMentions">52</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">평균 감정</span>
                            <span class="stat-value positive" id="avgSentiment">긍정</span>
                        </div>
                    </div>
                    <div class="widget-footer">
                        <button class="widget-button" onclick="showTrendAnalysis()">상세 분석 보기</button>
                    </div>
                </div>

                <!-- 분석 리포트 위젯 (좌하단) -->
                <div class="widget report-widget">
                    <div class="widget-header">
                        <h2 class="widget-title">
                            <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            분석 리포트
                        </h2>
                        <span class="widget-subtitle">일간</span>
                    </div>
                    <div class="report-content" id="reportContent">
                        <!-- 분석 리포트 내용이 여기에 표시됩니다 -->
                    </div>
                    <div class="widget-footer">
                        <button class="widget-button" onclick="showDetailedReport()">상세 보기</button>
                    </div>
                </div>

        <!-- 연결성 네트워크 위젯 -->
        <div class="widget connectivity-widget">
            <div class="widget-header">
                <h2 class="widget-title">
                    <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                    </svg>
                    정치인 연결성 네트워크
                </h2>
                <span class="widget-subtitle">패밀리트리 분석</span>
            </div>
            <div class="connectivity-content">
                <div class="connectivity-stats" id="connectivityStats">
                    <div class="stat-item">
                        <div class="stat-number" id="totalPoliticians">-</div>
                        <div class="stat-label">총 정치인</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="totalConnections">-</div>
                        <div class="stat-label">총 연결</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="partyConnections">-</div>
                        <div class="stat-label">정당 연결</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="districtConnections">-</div>
                        <div class="stat-label">지역구 연결</div>
                    </div>
                </div>
                <div class="connectivity-visualization">
                    <div class="family-tree-container">
                        <img id="familyTreeImage" src="http://localhost:8002/api/connectivity/family-tree" alt="패밀리트리 네트워크" class="family-tree-image">
                    </div>
                </div>
                <div class="top-connected" id="topConnected">
                    <!-- 가장 연결성이 높은 정치인 목록이 여기에 표시됩니다 -->
                </div>
            </div>
            <div class="widget-footer">
                <button class="widget-button" onclick="showConnectivityDetails()">상세 분석</button>
            </div>
        </div>

        <!-- 정치인 종합 평가 위젯 -->
        <div class="widget evaluation-widget">
            <div class="widget-header">
                <h2 class="widget-title">
                    <svg class="widget-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    정치인 종합 평가
                </h2>
                <span class="widget-subtitle">뉴스 + 의안 + 연결성 분석</span>
            </div>
            <div class="evaluation-content">
                <div class="evaluation-filters">
                    <select id="partyFilter" class="filter-select" onchange="filterByParty()">
                        <option value="all">전체 정당</option>
                        <option value="국민의힘">국민의힘</option>
                        <option value="더불어민주당">더불어민주당</option>
                        <option value="정의당">정의당</option>
                        <option value="개혁신당">개혁신당</option>
                    </select>
                </div>
                
                <div class="evaluation-stats" id="evaluationStats">
                    <!-- 정당별 통계가 여기에 표시됩니다 -->
                </div>
                
                <div class="evaluation-ranking" id="evaluationRanking">
                    <!-- 정치인 랭킹이 여기에 표시됩니다 -->
                </div>
                
                <div class="evaluation-distribution" id="evaluationDistribution">
                    <!-- 점수 분포가 여기에 표시됩니다 -->
                </div>
            </div>
            <div class="widget-footer">
                <button class="widget-button" onclick="showEvaluationDetails()">상세 분석</button>
            </div>
        </div>
            </div>
        </div>
    </main>

    <!-- 푸터 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2024 newsbot.kr. All rights reserved.</p>
                <p>정치 뉴스 분석 플랫폼</p>
            </div>
        </div>
    </footer>

    <!-- 로딩 오버레이 -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>newsbot.kr 로딩 중...</p>
        </div>
    </div>

    <!-- 스크립트 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="static/script.js"></script>
</body>
</html>
